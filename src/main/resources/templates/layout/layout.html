<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="head">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title
	th:text="'Spring Boot: MVC + ThymeLeaf + Data JPA - ' + ${titulo}"></title>

<!-- Font Awesome -->
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css"
	rel="stylesheet">
<!-- Material Design Bootstrap -->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css"
	rel="stylesheet">

<link rel="stylesheet" th:href="@{/css/jquery-ui.min.css}">

<!-- MDBootstrap Datatables  -->
<link th:href="@{/css/datatables2.min.css}" rel="stylesheet">

</head>
<body>

	<header th:fragment="header">
		<nav class="navbar navbar-expand-lg navbar-dark bg-primary font-weight-normal">
			<a class="navbar-brand ml-4" href="#">Radiología</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarNav" aria-controls="navbarNav"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item"><a class="nav-link" th:href="@{/turnos}">Turnos<span
							class="sr-only">(current)</span>
					</a></li>
					<li class="nav-item"><a class="nav-link" th:href="@{/listar}">Pacientes</a>
					</li>
				</ul>
				<ul class="navbar-nav ml-auto mr-5">
					<li sec:authorize="!isAuthenticated()" class="nav-item"><a
						class="btn btn-outline-white rounded-lg" th:href="@{/login}">Ingresar</a></li>

					<li sec:authorize="isAuthenticated()" class="dropdown"><a
						class="btn btn-outline-white dropdown-toggle  rounded-lg" href="#"
						role="button" id="dropdownMenuLink" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false"><i class="fas fa-user mr-2"></i><span
							sec:authentication="name"></span></a>
							
							
						<form id="logoutForm" th:action="@{/logout}" method="post">
							<div class="dropdown-menu shadow animated fadeIn faster text-center rounded-lg border border-gray " aria-labelledby="dropdownMenuLink">
								<a class="dropdown-item font-weight-normal" href="#">Perfil</a> <a
									class="dropdown-item font-weight-normal" href="#">Opciones</a>
								<div class="dropdown-divider"></div>
								
								<!-- Tambien funciona sin js en el boton de logout -->
								<button
									onclick="document.getElementById('logoutForm').submit();"
									type="submit" class="dropdown-item text-center text-danger font-weight-normal">
									<i class="fas fa-power-off mr-1"></i>Salir
								</button>
								
								<input type="hidden" th:name="${_csrf.parameterName}"
									th:value="${_csrf.token}">

							</div>
						</form></li>

				</ul>
			</div>
		</nav>

		<div
			class="alert alert-success alert-dismissible fade show text-center"
			role="alert" th:if="${success != null}">
			<strong th:text="${success}"></strong><span type="button" class="close"
				data-dismiss="alert" aria-label="Close"> <span
				aria-hidden="true">&times;</span>
			</span>
		</div>
		<div
			class="alert alert-success alert-dismissible fade show text-center"
			role="alert" th:if="${successPaciente != null}">
			<a th:href="@{/form}" ><strong th:text="${successPaciente}"></strong></a> <span type="button"
				class="close" data-dismiss="alert" aria-label="Close"> <span
				aria-hidden="true">&times;</span>
			</span>
		</div>

		<div
			class="alert alert-danger alert-dismissible fade show text-center"
			role="alert" th:if="${error != null}">
			<strong th:text="${error}"></strong><span type="button" class="close"
				data-dismiss="alert" aria-label="Close"> <span
				aria-hidden="true">&times;</span>
			</span>
		</div>
		<div
			class="alert alert-warning alert-dismissible fade show text-center"
			role="alert" th:if="${warning != null}">
			<strong th:text="${warning}"></strong><span type="button"
				class="close" data-dismiss="alert" aria-label="Close"> <span
				aria-hidden="true">&times;</span>
			</span>
		</div>
		<div class="alert alert-info alert-dismissible fade show text-center"
			role="alert" th:if="${info != null}">
			<strong th:text="${info}"></strong><span type="button" class="close"
				data-dismiss="alert" aria-label="Close"> <span
				aria-hidden="true">&times;</span>
		</div>

	</header>

	<div class="container"></div>

	<footer th:fragment="footer" class="font-small mb-0 text-muted">
	
	<!--  <div class="footer-copyright text-center py-3">© 2020 Copyright:
    <span class="text-white"> Christian Nordfors</span>
  </div> -->
	
	
	<!-- <hr>
		<img alt="Spring logo" th:src="@{/images/spring.png}" width="200px">
		<p sec:authorize="isAuthenticated()">
			Usuario: <span sec:authentication="name"></span> | Roles: <span
				sec:authentication="principal.authorities"></span>
		</p>
		<p>SADSADS dasDASD SADa</p>
		<p>SADSADS dasDASD SADasadSADSADSADSADsadsadsaDSADASDSADASdasdAS
			SADSADSA</p> -->
		
<script th:src="@{/js/jquery-ui.min.js}"></script>
		<!-- JQuery -->
		<script type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<!-- Bootstrap tooltips -->
		<script type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
		<!-- Bootstrap core JavaScript -->
		<script type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
		<!-- MDB core JavaScript -->
		<script type="text/javascript"
			src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>

		
		<!-- MDBootstrap Datatables  -->
<script type="text/javascript" th:src="@{/js/datatables2.min.js}"></script>
	<script type="text/javascript">
	$( document ).ready(function() {
        $('[data-toggle="tooltip"]').tooltip({
        		'placement': 'top',
        		'delay': { "show": 500, "hide": 100}
        });
    });
	</script>

	</footer>


</body>
</html>